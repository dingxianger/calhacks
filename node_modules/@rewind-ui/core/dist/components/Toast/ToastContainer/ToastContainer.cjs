'use client';
"use strict";var e=require("tslib"),t=require("react/jsx-runtime"),s=require("../Toast.cjs"),o=require("./toast.reducer.cjs"),a=require("@floating-ui/react"),i=require("../../../theme/theme.context.cjs"),r=require("../../../utils/usePropId.cjs"),n=require("react"),d=require("tailwind-merge"),c=require("../../../node_modules/framer-motion/dist/es/components/AnimatePresence/index.cjs"),m=require("../../../node_modules/framer-motion/dist/es/render/dom/motion.cjs");const u={max:5,position:"top-right"},l=n.forwardRef(((l,p)=>{const j=i.useComponentTheme("Toast"),[v,x]=n.useReducer(o.toastReducer,[]),g=Object.assign(Object.assign({},u),l),{className:y="",max:E,position:h}=g,q=e.__rest(g,["className","max","position"]),b=r.usePropId(l.id),f=e=>{x({type:o.toastActionEnum.add,payload:e.detail,max:E})},L=e=>{x({type:o.toastActionEnum.update,payload:e.detail})},A=e=>{x({type:o.toastActionEnum.remove,payload:e.detail})},O=()=>{x({type:o.toastActionEnum.clear,payload:{}})};n.useEffect((()=>(document.addEventListener("toasts:add",f),document.addEventListener("toasts:update",L),document.addEventListener("toasts:remove",A),document.addEventListener("toasts:clear",O),()=>{document.removeEventListener("toasts:add",f),document.removeEventListener("toasts:update",L),document.removeEventListener("toasts:remove",A),document.removeEventListener("toasts:clear",O)})));const N=n.useMemo((()=>d.twMerge(j.container({className:y,position:h}))),[y,h,j]);return t.jsx(a.FloatingPortal,{children:t.jsx("div",Object.assign({ref:p,id:b,className:N},q,{children:t.jsx(c.AnimatePresence,Object.assign({initial:!1},{children:v.map((e=>t.jsx(m.motion.div,Object.assign({layout:!0,initial:{opacity:0,x:"top-right"===h||"bottom-right"===h?"100%":"-100%",scale:.85},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:"top-right"===h||"bottom-right"===h?"100%":"-100%",scale:.85,transition:{duration:.2}}},{children:t.jsx(s,Object.assign({},e))}),e.id)))}))}))})}));l.displayName="ToastContainer",module.exports=l;
