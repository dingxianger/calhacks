"use strict";var t=require("../../../utils/progress.cjs"),i=require("../../../projection/geometry/delta-calc.cjs"),n=require("../../../utils/clamp.cjs"),r=require("../../../utils/mix.cjs");function e(t,i,n){return{min:void 0!==i?t.min+i:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function o(t,i){let n=i.min-t.min,r=i.max-t.max;return i.max-i.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}const s=.35;function a(t,i,n){return{min:m(t,i),max:m(t,n)}}function m(t,i){return"number"==typeof t?t:t[i]||0}exports.applyConstraints=function(t,{min:i,max:n},e){return void 0!==i&&t<i?t=e?r.mix(i,t,e.min):Math.max(t,i):void 0!==n&&t>n&&(t=e?r.mix(n,t,e.max):Math.min(t,n)),t},exports.calcOrigin=function(r,e){let o=.5;const s=i.calcLength(r),a=i.calcLength(e);return a>s?o=t.progress(e.min,e.max-s,r.min):s>a&&(o=t.progress(r.min,r.max-a,e.min)),n.clamp(0,1,o)},exports.calcRelativeAxisConstraints=e,exports.calcRelativeConstraints=function(t,{top:i,left:n,bottom:r,right:o}){return{x:e(t.x,n,o),y:e(t.y,i,r)}},exports.calcViewportAxisConstraints=o,exports.calcViewportConstraints=function(t,i){return{x:o(t.x,i.x),y:o(t.y,i.y)}},exports.defaultElastic=s,exports.rebaseAxisConstraints=function(t,i){const n={};return void 0!==i.min&&(n.min=i.min-t.min),void 0!==i.max&&(n.max=i.max-t.min),n},exports.resolveAxisElastic=a,exports.resolveDragElastic=function(t=.35){return!1===t?t=0:!0===t&&(t=s),{x:a(t,"left","right"),y:a(t,"top","bottom")}},exports.resolvePointElastic=m;
