'use client';
import{__rest as t}from"tslib";import{jsx as e}from"react/jsx-runtime";import o from"../Toast.js";import{toastReducer as a,toastActionEnum as i}from"./toast.reducer.js";import{FloatingPortal as s}from"@floating-ui/react";import{useComponentTheme as r}from"../../../theme/theme.context.js";import{usePropId as n}from"../../../utils/usePropId.js";import{forwardRef as m,useReducer as d,useEffect as c,useMemo as p}from"react";import{twMerge as l}from"tailwind-merge";import{AnimatePresence as u}from"../../../node_modules/framer-motion/dist/es/components/AnimatePresence/index.js";import{motion as v}from"../../../node_modules/framer-motion/dist/es/render/dom/motion.js";const f={max:5,position:"top-right"},g=m(((m,g)=>{const j=r("Toast"),[y,x]=d(a,[]),h=Object.assign(Object.assign({},f),m),{className:b="",max:E,position:L}=h,O=t(h,["className","max","position"]),N=n(m.id),T=t=>{x({type:i.add,payload:t.detail,max:E})},P=t=>{x({type:i.update,payload:t.detail})},_=t=>{x({type:i.remove,payload:t.detail})},w=()=>{x({type:i.clear,payload:{}})};c((()=>(document.addEventListener("toasts:add",T),document.addEventListener("toasts:update",P),document.addEventListener("toasts:remove",_),document.addEventListener("toasts:clear",w),()=>{document.removeEventListener("toasts:add",T),document.removeEventListener("toasts:update",P),document.removeEventListener("toasts:remove",_),document.removeEventListener("toasts:clear",w)})));const A=p((()=>l(j.container({className:b,position:L}))),[b,L,j]);return e(s,{children:e("div",Object.assign({ref:g,id:N,className:A},O,{children:e(u,Object.assign({initial:!1},{children:y.map((t=>e(v.div,Object.assign({layout:!0,initial:{opacity:0,x:"top-right"===L||"bottom-right"===L?"100%":"-100%",scale:.85},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:"top-right"===L||"bottom-right"===L?"100%":"-100%",scale:.85,transition:{duration:.2}}},{children:e(o,Object.assign({},t))}),t.id)))}))}))})}));g.displayName="ToastContainer";export{g as default};
