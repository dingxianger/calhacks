"use strict";var t=require("../../utils/mix.cjs"),s=require("../utils/has-transform.cjs");function n(t,s,n){return n+s*(t-n)}function e(t,s,e,o,r){return void 0!==r&&(t=n(t,r,o)),n(t,e,o)+s}function o(t,s=0,n=1,o,r){t.min=e(t.min,s,n,o,r),t.max=e(t.max,s,n,o,r)}function r(t,{x:s,y:n}){o(t.x,s.translate,s.scale,s.originPoint),o(t.y,n.translate,n.scale,n.originPoint)}function i(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function a(s,n,[e,r,i]){const a=void 0!==n[i]?n[i]:.5,l=t.mix(s.min,s.max,a);o(s,n[e],n[r],l,n.scale)}const l=["x","scaleX","originX"],c=["y","scaleY","originY"];function x(t,s){a(t.x,s,l),a(t.y,s,c)}exports.applyAxisDelta=o,exports.applyBoxDelta=r,exports.applyPointDelta=e,exports.applyTreeDeltas=function(t,n,e,o=!1){const a=e.length;if(!a)return;let l,c;n.x=n.y=1;for(let i=0;i<a;i++){l=e[i],c=l.projectionDelta;const a=l.instance;a&&a.style&&"contents"===a.style.display||(o&&l.options.layoutScroll&&l.scroll&&l!==l.root&&x(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(n.x*=c.x.scale,n.y*=c.y.scale,r(t,c)),o&&s.hasTransform(l.latestValues)&&x(t,l.latestValues))}n.x=i(n.x),n.y=i(n.y)},exports.scalePoint=n,exports.transformAxis=a,exports.transformBox=x,exports.translateAxis=function(t,s){t.min=t.min+s,t.max=t.max+s};
