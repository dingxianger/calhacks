'use client';
"use strict";var e=require("tslib"),s=require("react/jsx-runtime"),r=require("./use-toast.hook.cjs"),o=require("../../icons/Error.cjs"),n=require("../../icons/Info.cjs"),t=require("../../icons/Question.cjs"),a=require("../../icons/Success.cjs"),c=require("../../icons/Warning.cjs"),i=require("../../theme/theme.context.cjs"),l=require("../../theme/variant.context.cjs"),u=require("../../utils/usePropId.cjs"),d=require("react"),m=require("tailwind-merge");const j={closeOnClick:!0,color:"blue",pauseOnHover:!0,radius:"md",shadow:"base",shadowColor:"gray",showProgress:!0,tone:"solid"},h={error:s.jsx(o.ErrorIcon,{}),info:s.jsx(n.InfoIcon,{}),question:s.jsx(t.QuestionIcon,{}),success:s.jsx(a.SuccessIcon,{}),warning:s.jsx(c.WarningIcon,{})},p=d.forwardRef(((o,n)=>{const t=l.useComponentVariant("Toast",o.variant),a=i.useComponentTheme("Toast"),c=Object.assign(Object.assign(Object.assign({},j),t),o),{actions:p=[],className:g="",closeOnClick:x,color:O,description:v="",duration:b=3e3,halted:q=!1,iconType:w,pauseOnHover:f,radius:C,shadow:N,shadowColor:I,showProgress:k,title:T="",tone:y,variant:E}=c,P=e.__rest(c,["actions","className","closeOnClick","color","description","duration","halted","iconType","pauseOnHover","radius","shadow","shadowColor","showProgress","title","tone","variant"]),[A,F]=d.useState(q),[M,S]=d.useState(q?1e3:0),W=r.useToast(),H=u.usePropId(o.id),R=d.useRef(null),Q=d.useRef(null),$=!!T,_=d.useMemo((()=>m.twMerge(a.toast({className:g,color:O,tone:y,radius:C,shadow:N,shadowColor:I}))),[g,O,y,C,N,I,a]),D=e=>{Q.current||(Q.current=e);e-(Q.current||0)>=50&&(S((e=>e+50)),Q.current=e),R.current=requestAnimationFrame(D)};return d.useEffect((()=>{if(A||(R.current=requestAnimationFrame(D)),f)return()=>{R.current&&cancelAnimationFrame(R.current),Q.current&&cancelAnimationFrame(Q.current)}}),[A]),d.useEffect((()=>{b&&M>=b&&W.remove(H)}),[M]),s.jsxs("div",Object.assign({id:H,ref:n,role:"alert",onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),className:_},P,{children:[b>0&&k&&s.jsx("div",Object.assign({className:a.progress({color:O,tone:y})},{children:s.jsx("div",{className:a.progressInner({color:O,tone:y}),style:{width:100*M/b+"%",transitionDuration:"50ms"}})})),s.jsxs("div",Object.assign({className:a.contentWrapper({closeOnClick:x}),onClick:()=>{x&&W.remove(H)}},{children:[w&&h[w],s.jsxs("div",Object.assign({className:a.content()},{children:[T&&s.jsx("h4",Object.assign({className:a.title()},{children:T})),v&&s.jsx("p",Object.assign({className:a.description({hasTitle:$})},{children:v}))]}))]})),p.length>0&&s.jsx("div",Object.assign({className:a.actionsWrapper({tone:y,color:O})},{children:p.map(((e,r)=>s.jsx("button",Object.assign({className:a.action({primary:e.primary,tone:y,color:O}),onClick:e.onClick},{children:e.label}),`action-${H}-${r}`)))}))]}))}));p.displayName="Toast",module.exports=p;
