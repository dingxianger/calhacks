'use client';
import{__rest as o}from"tslib";import{jsx as e,jsxs as r}from"react/jsx-runtime";import{useToast as s}from"./use-toast.hook.js";import{ErrorIcon as t}from"../../icons/Error.js";import{InfoIcon as n}from"../../icons/Info.js";import{QuestionIcon as i}from"../../icons/Question.js";import{SuccessIcon as a}from"../../icons/Success.js";import{WarningIcon as c}from"../../icons/Warning.js";import{useComponentTheme as l}from"../../theme/theme.context.js";import{useComponentVariant as m}from"../../theme/variant.context.js";import{usePropId as d}from"../../utils/usePropId.js";import{forwardRef as u,useState as p,useRef as h,useMemo as g,useEffect as j}from"react";import{twMerge as f}from"tailwind-merge";const O={closeOnClick:!0,color:"blue",pauseOnHover:!0,radius:"md",shadow:"base",shadowColor:"gray",showProgress:!0,tone:"solid"},b={error:e(t,{}),info:e(n,{}),question:e(i,{}),success:e(a,{}),warning:e(c,{})},v=u(((t,n)=>{const i=m("Toast",t.variant),a=l("Toast"),c=Object.assign(Object.assign(Object.assign({},O),i),t),{actions:u=[],className:v="",closeOnClick:w,color:N,description:C="",duration:k=3e3,halted:y=!1,iconType:T,pauseOnHover:x,radius:A,shadow:F,shadowColor:P,showProgress:q,title:H="",tone:I,variant:W}=c,E=o(c,["actions","className","closeOnClick","color","description","duration","halted","iconType","pauseOnHover","radius","shadow","shadowColor","showProgress","title","tone","variant"]),[M,$]=p(y),[D,L]=p(y?1e3:0),Q=s(),S=d(t.id),z=h(null),B=h(null),G=!!H,J=g((()=>f(a.toast({className:v,color:N,tone:I,radius:A,shadow:F,shadowColor:P}))),[v,N,I,A,F,P,a]),K=o=>{B.current||(B.current=o);o-(B.current||0)>=50&&(L((o=>o+50)),B.current=o),z.current=requestAnimationFrame(K)};return j((()=>{if(M||(z.current=requestAnimationFrame(K)),x)return()=>{z.current&&cancelAnimationFrame(z.current),B.current&&cancelAnimationFrame(B.current)}}),[M]),j((()=>{k&&D>=k&&Q.remove(S)}),[D]),r("div",Object.assign({id:S,ref:n,role:"alert",onMouseEnter:()=>$(!0),onMouseLeave:()=>$(!1),className:J},E,{children:[k>0&&q&&e("div",Object.assign({className:a.progress({color:N,tone:I})},{children:e("div",{className:a.progressInner({color:N,tone:I}),style:{width:100*D/k+"%",transitionDuration:"50ms"}})})),r("div",Object.assign({className:a.contentWrapper({closeOnClick:w}),onClick:()=>{w&&Q.remove(S)}},{children:[T&&b[T],r("div",Object.assign({className:a.content()},{children:[H&&e("h4",Object.assign({className:a.title()},{children:H})),C&&e("p",Object.assign({className:a.description({hasTitle:G})},{children:C}))]}))]})),u.length>0&&e("div",Object.assign({className:a.actionsWrapper({tone:I,color:N})},{children:u.map(((o,r)=>e("button",Object.assign({className:a.action({primary:o.primary,tone:I,color:N}),onClick:o.onClick},{children:o.label}),`action-${S}-${r}`)))}))]}))}));v.displayName="Toast";export{v as default};
