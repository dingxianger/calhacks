"use strict";var e=require("../../../utils/errors.cjs"),t=require("./is-css-variable.cjs");const r=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function n(e){const t=r.exec(e);if(!t)return[,];const[,n,i]=t;return[n,i]}const i=4;function a(r,s,o=1){e.invariant(o<=i,`Max CSS variable fallback depth detected in property "${r}". This may indicate a circular fallback dependency.`);const[c,u]=n(r);if(!c)return;const l=window.getComputedStyle(s).getPropertyValue(c);return l?l.trim():t.isCSSVariableToken(u)?a(u,s,o+1):u}exports.parseCSSVariable=n,exports.resolveCSSVariables=function(e,{...r},n){const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const r=e.get();if(!t.isCSSVariableToken(r))return;const n=a(r,i);n&&e.set(n)}));for(const e in r){const s=r[e];if(!t.isCSSVariableToken(s))continue;const o=a(s,i);o&&(r[e]=o,n||(n={}),void 0===n[e]&&(n[e]=s))}return{target:r,transitionEnd:n}};
