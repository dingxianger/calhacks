"use strict";var t=require("../../../utils/errors.cjs"),s=require("../../../utils/clamp.cjs"),n=require("../../../utils/time-conversion.cjs");const r=.001,e=.01,o=10,i=.05,a=1;const c=12;function u(t,s){return t*Math.sqrt(1-s*s)}exports.calcAngularFreq=u,exports.findSpring=function({duration:p=800,bounce:l=.25,velocity:m=0,mass:d=1}){let x,M;t.warning(p<=n.secondsToMilliseconds(o),"Spring duration must be 10 seconds or less");let f=1-l;f=s.clamp(i,a,f),p=s.clamp(e,o,n.millisecondsToSeconds(p)),f<1?(x=t=>{const s=t*f,n=s*p,e=s-m,o=u(t,f),i=Math.exp(-n);return r-e/o*i},M=t=>{const s=t*f*p,n=s*m+m,e=Math.pow(f,2)*Math.pow(t,2)*p,o=Math.exp(-s),i=u(Math.pow(t,2),f);return(-x(t)+r>0?-1:1)*((n-e)*o)/i}):(x=t=>Math.exp(-t*p)*((t-m)*p+1)-.001,M=t=>Math.exp(-t*p)*(p*p*(m-t)));const h=function(t,s,n){let r=n;for(let n=1;n<c;n++)r-=t(r)/s(r);return r}(x,M,5/p);if(p=n.secondsToMilliseconds(p),isNaN(h))return{stiffness:100,damping:10,duration:p};{const t=Math.pow(h,2)*d;return{stiffness:t,damping:2*f*Math.sqrt(d*t),duration:p}}},exports.maxDamping=a,exports.maxDuration=o,exports.minDamping=i,exports.minDuration=e;
