import{jsxs as e,jsx as s}from"react/jsx-runtime";import{useComboboxContext as i}from"../Combobox.context.js";import{textNormalize as o}from"../../../helpers/text-normalize.utility.js";import{CheckIcon as t}from"../../../icons/Check.js";import{useComponentTheme as a}from"../../../theme/theme.context.js";import{usePropId as l}from"../../../utils/usePropId.js";import{forwardRef as r,useEffect as d}from"react";const n=r(((r,n)=>{const c=a("ComboboxOption"),{value:m,label:p,description:b,media:u}=r,h=!!r.disabled,j=l(r.id),{externalSearch:f,mode:x,optionColor:C,radius:N,search:O,selectedValue:g,setSelectedLabel:z,setSelectedValue:v,size:S}=i(),k=o(O||""),y=o(p||""),V=o(b||""),W=!f&&!y.includes(k)&&!V.includes(k),I=g===m&&!h;return d((()=>{g!==m||h||z(p)}),[g]),e("button",Object.assign({id:j,ref:n,className:c.button({optionColor:C,radius:N,selected:I,hidden:W,size:S,mode:x}),"aria-hidden":W,disabled:h,"aria-disabled":h,onClick:()=>{g===m?(v(null),z(null)):(v(m),z(p))}},{children:[e("div",Object.assign({className:c.optionWrapper()},{children:[u,e("div",Object.assign({className:c.infoWrapper()},{children:[s("span",Object.assign({className:c.label({disabled:h,selected:I})},{children:p})),s("span",Object.assign({className:c.description({disabled:h,selected:I})},{children:b}))]}))]})),I&&s(t,{className:c.icon({size:S})})]}))}));n.displayName="ComboboxOption";export{n as ComboboxOption};
