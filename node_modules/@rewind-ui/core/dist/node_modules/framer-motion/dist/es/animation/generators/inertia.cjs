"use strict";var e=require("./spring/index.cjs"),t=require("./utils/velocity.cjs");exports.inertia=function({keyframes:a,velocity:n=0,power:i=.8,timeConstant:o=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:l,min:c,max:u,restDelta:v=.5,restSpeed:d}){const p=a[0],f={done:!1,value:p},m=e=>void 0===c?u:void 0===u||Math.abs(c-e)<Math.abs(u-e)?c:u;let y=i*n;const x=p+y,b=void 0===l?x:l(x);b!==x&&(y=b-p);const g=e=>-y*Math.exp(-e/o),h=e=>b+g(e),D=e=>{const t=g(e),a=h(e);f.done=Math.abs(t)<=v,f.value=f.done?b:a};let M,S;const j=a=>{var n;(n=f.value,void 0!==c&&n<c||void 0!==u&&n>u)&&(M=a,S=e.spring({keyframes:[f.value,m(f.value)],velocity:t.calcGeneratorVelocity(h,a,f.value),damping:s,stiffness:r,restDelta:v,restSpeed:d}))};return j(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==M||(t=!0,D(e),j(e)),void 0!==M&&e>M?S.next(e-M):(!t&&D(e),f)}}};
