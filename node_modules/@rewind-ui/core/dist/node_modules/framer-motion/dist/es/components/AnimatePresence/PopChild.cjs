"use strict";var e=require("react");function t(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(e);class r extends n.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}exports.PopChild=function({children:t,isPresent:o}){const i=e.useId(),s=e.useRef(null),p=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect((()=>{const{width:e,height:t,top:n,left:r}=p.current;if(o||!s.current||!e||!t)return;s.current.dataset.motionPopId=i;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${i}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${n}px !important;\n            left: ${r}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}}),[o]),n.createElement(r,{isPresent:o,childRef:s,sizeRef:p},n.cloneElement(t,{ref:s}))};
